<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MST API - å¾Œç«¯æ¸¬é€Ÿ API</title>
  <meta name="description" content="MST å¾Œç«¯ APIï¼Œæä¾›æ¸¬é€Ÿç¯€é»ã€‚å–®æª”éƒ¨ç½²ï¼Œæ”¯æ´ Vercelã€Railway ç­‰å¹³å°ã€‚">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš¡</text></svg>">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg: #f8f8f8;
      --bg-light: #ffffff;
      --bg-card: #ffffff;
      --white: #1a1a1a;
      --red: #ff4757;
      --yellow: #ff9500;
      --blue: #3742fa;
      --gray: #666666;
      --gray-dark: #e0e0e0;
    }

    [data-theme="dark"] {
      --bg: #141418;
      --bg-light: #1c1c22;
      --bg-card: #202028;
      --white: #ffffff;
      --gray: #a0a0b0;
      --gray-dark: #3a3a5a;
    }

    body {
      font-family: 'Space Grotesk', -apple-system, sans-serif;
      background: var(--bg);
      color: var(--white);
      line-height: 1.8;
    }

    /* Header */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 25px 40px;
      border-bottom: 1px solid var(--gray-dark);
    }

    .logo {
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 2px;
      color: var(--white);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-icon {
      width: 24px;
      height: 24px;
      background: var(--red);
      border-radius: 50%;
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 25px;
    }

    nav {
      display: flex;
      gap: 30px;
    }

    nav a {
      color: var(--gray);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: color 0.2s;
    }

    nav a:hover, nav a.active {
      color: var(--white);
    }

    .theme-toggle {
      background: none;
      border: 2px solid var(--gray-dark);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      transition: all 0.3s;
    }

    .theme-toggle:hover {
      border-color: var(--yellow);
    }

    /* Hero */
    .hero {
      text-align: center;
      padding: 80px 20px 60px;
    }

    .hero h1 {
      font-size: clamp(36px, 7vw, 56px);
      font-weight: 700;
      margin-bottom: 20px;
    }

    .hero h1 span {
      color: var(--red);
    }

    .hero p {
      font-size: 18px;
      color: var(--gray);
      max-width: 600px;
      margin: 0 auto 30px;
    }

    .hero-btns {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      padding: 14px 32px;
      border-radius: 100px;
      font-size: 14px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s;
      display: inline-block;
    }

    .btn-primary {
      background: #1a1a1a;
      color: #ffffff;
    }

    [data-theme="dark"] .btn-primary {
      background: #ffffff;
      color: #1a1a1a;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    /* Content */
    .content {
      max-width: 750px;
      margin: 0 auto;
      padding: 40px 20px 80px;
    }

    .section {
      margin-bottom: 70px;
    }

    .section h2 {
      font-size: 28px;
      font-weight: 600;
      margin-bottom: 25px;
      color: var(--white);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section h2::before {
      content: '';
      width: 4px;
      height: 28px;
      background: var(--red);
      border-radius: 2px;
    }

    .section h3 {
      font-size: 18px;
      font-weight: 600;
      margin: 30px 0 15px;
      color: var(--white);
    }

    .section p {
      margin-bottom: 15px;
      color: var(--gray);
      font-size: 16px;
    }

    .section strong {
      color: var(--white);
    }

    /* Code Block */
    .code-block {
      background: #1a1a1a;
      border-radius: 12px;
      overflow: hidden;
      margin: 20px 0;
    }

    .code-header {
      background: #252525;
      padding: 12px 20px;
      font-size: 13px;
      color: #888;
      border-bottom: 1px solid #333;
    }

    .code-content {
      padding: 20px;
      overflow-x: auto;
    }

    .code-content code {
      font-family: 'SF Mono', Monaco, Consolas, monospace;
      font-size: 13px;
      color: #e0e0e0;
      white-space: pre;
      line-height: 1.6;
    }

    .comment { color: #666; }
    .keyword { color: #82aaff; }
    .string { color: #c3e88d; }
    .function { color: #ffa502; }

    /* Table */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }

    th, td {
      padding: 14px 18px;
      text-align: left;
      border-bottom: 1px solid var(--gray-dark);
    }

    th {
      color: #ff9500;
      font-weight: 600;
      font-size: 14px;
    }

    td {
      color: var(--gray);
      font-size: 15px;
    }

    td code {
      background: rgba(0,0,0,0.1);
      padding: 3px 8px;
      border-radius: 6px;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 13px;
      color: var(--white);
    }

    [data-theme="dark"] td code {
      background: rgba(255,255,255,0.1);
    }

    /* Info Box */
    .info-box {
      background: var(--bg-card);
      border-left: 3px solid var(--blue);
      padding: 20px 25px;
      margin: 25px 0;
      border-radius: 0 12px 12px 0;
      box-shadow: 0 2px 15px rgba(0,0,0,0.06);
    }

    .info-box p {
      margin-bottom: 0;
      font-size: 15px;
    }

    /* Footer */
    footer {
      padding: 40px;
      text-align: center;
      border-top: 1px solid var(--gray-dark);
    }

    footer p {
      font-size: 13px;
      color: var(--gray);
    }

    footer a {
      color: var(--gray);
      text-decoration: none;
      margin: 0 15px;
    }

    footer a:hover {
      color: var(--white);
    }

    /* Responsive */
    @media (max-width: 768px) {
      header {
        padding: 20px;
      }

      .hero {
        padding: 60px 20px 40px;
      }

      .section h2 {
        font-size: 24px;
      }
    }
  </style>
</head>
<body>
  <header>
    <a href="/" class="logo">
      <div class="logo-icon"></div>
      MST
    </a>
    <div class="nav-right">
      <nav>
        <a href="/">æ¸¬é€Ÿ</a>
        <a href="/learn">åŸç†</a>
        <a href="/sdk">SDK</a>
        <a href="/api" class="active">API</a>
      </nav>
      <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ›æ·±æ·ºæ¨¡å¼">
        <span id="themeIcon">ğŸŒ™</span>
      </button>
    </div>
  </header>

  <section class="hero">
    <h1>å¾Œç«¯ <span>API</span></h1>
    <p>æä¾›æ¸¬é€Ÿç¯€é»çš„å–®æª” APIï¼Œæ”¯æ´ Vercelã€Railway ç­‰å¹³å°éƒ¨ç½²</p>
    <div class="hero-btns">
      <a href="/api/mst-api.js" class="btn btn-primary" download>ä¸‹è¼‰ mst-api.js</a>
    </div>
  </section>

  <main class="content">
    <!-- èªªæ˜ -->
    <section class="section">
      <h2>ç‚ºä»€éº¼éœ€è¦å¾Œç«¯ï¼Ÿ</h2>

      <p>MST SDK åœ¨ç€è¦½å™¨åŸ·è¡Œæ¸¬é€Ÿï¼Œä½†éœ€è¦å¾Œç«¯æä¾›<strong>æ¸¬é€Ÿç¯€é» URL</strong>ã€‚</p>

      <p>æˆ‘å€‘çš„ API æœƒå‘ CDN æœå‹™è«‹æ±‚é«˜é »å¯¬ç¯€é»ï¼Œç„¶å¾Œå›å‚³çµ¦å‰ç«¯ä½¿ç”¨ã€‚</p>

      <div class="info-box">
        <p>é€™æ˜¯ä¸€å€‹<strong>å–®æª”è¨­è¨ˆ</strong>ï¼Œæ–¹ä¾¿éƒ¨ç½²åˆ°ä»»ä½• Node.js ç’°å¢ƒæˆ– Serverless å¹³å°ã€‚</p>
      </div>
    </section>

    <!-- API ç«¯é» -->
    <section class="section">
      <h2>API ç«¯é»</h2>

      <table>
        <tr>
          <th>Method</th>
          <th>Path</th>
          <th>èªªæ˜</th>
        </tr>
        <tr>
          <td><code>GET</code></td>
          <td>/api/mst/targets</td>
          <td>å–å¾— CDN æ¸¬é€Ÿç¯€é»</td>
        </tr>
        <tr>
          <td><code>POST</code></td>
          <td>/api/mst/results</td>
          <td>å„²å­˜æ¸¬é€Ÿçµæœ</td>
        </tr>
        <tr>
          <td><code>GET</code></td>
          <td>/api/mst/health</td>
          <td>å¥åº·æª¢æŸ¥</td>
        </tr>
      </table>

      <h3>Response ç¯„ä¾‹</h3>
      <div class="code-block">
        <div class="code-header">GET /api/mst/targets</div>
        <div class="code-content">
          <code>{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"targets"</span>: [
    {
      <span class="string">"url"</span>: <span class="string">"https://..."</span>,
      <span class="string">"city"</span>: <span class="string">"Taipei"</span>,
      <span class="string">"country"</span>: <span class="string">"TW"</span>
    }
  ]
}</code>
        </div>
      </div>
    </section>

    <!-- éƒ¨ç½²æ–¹å¼ -->
    <section class="section">
      <h2>éƒ¨ç½²æ–¹å¼</h2>

      <h3>Vercel (Serverless)</h3>
      <div class="code-block">
        <div class="code-header">æ­¥é©Ÿ</div>
        <div class="code-content">
          <code><span class="comment"># 1. å»ºç«‹å°ˆæ¡ˆçµæ§‹</span>
/api
  â””â”€â”€ mst/[[...path]].js  <span class="comment"># æ”¹åå¾Œæ”¾é€™</span>

<span class="comment"># 2. éƒ¨ç½²åˆ° Vercel</span>
vercel deploy

<span class="comment"># 3. è‡ªå‹•è®Šæˆ /api/mst/* ç«¯é»</span></code>
        </div>
      </div>

      <h3>ç¨ç«‹é‹è¡Œ</h3>
      <div class="code-block">
        <div class="code-header">Terminal</div>
        <div class="code-content">
          <code><span class="comment"># éœ€è¦ express</span>
npm install express

<span class="comment"># å•Ÿå‹•</span>
node mst-api.js

<span class="comment"># è·‘åœ¨ http://localhost:3001</span></code>
        </div>
      </div>

      <h3>Railway / Render</h3>
      <div class="code-block">
        <div class="code-header">è¨­å®š</div>
        <div class="code-content">
          <code><span class="comment"># å•Ÿå‹•æŒ‡ä»¤</span>
node mst-api.js

<span class="comment"># ç’°å¢ƒè®Šæ•¸ï¼ˆå¯é¸ï¼‰</span>
PORT=3001</code>
        </div>
      </div>
    </section>

    <!-- å‰ç«¯æ•´åˆ -->
    <section class="section">
      <h2>å‰ç«¯æ•´åˆ</h2>

      <p>éƒ¨ç½²å®Œæˆå¾Œï¼Œå‰ç«¯ SDK æŒ‡å‘ä½ çš„ APIï¼š</p>

      <div class="code-block">
        <div class="code-header">JavaScript</div>
        <div class="code-content">
          <code><span class="keyword">const</span> mst = <span class="keyword">new</span> <span class="function">MST</span>({
  <span class="function">apiEndpoint</span>: <span class="string">'https://your-api.vercel.app/api/mst'</span>
});

mst.<span class="function">on</span>(<span class="string">'complete'</span>, (result) => {
  console.<span class="function">log</span>(result.speed.value, result.speed.unit);
});

<span class="keyword">await</span> mst.<span class="function">run</span>();</code>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>
      <a href="/">æ¸¬é€Ÿ</a>
      <a href="/sdk">å‰ç«¯ SDK</a>
      <a href="#">GitHub</a>
    </p>
    <p style="margin-top: 15px;">&copy; 2025 MySpeedTest</p>
  </footer>

  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const icon = document.getElementById('themeIcon');
      const isDark = html.getAttribute('data-theme') === 'dark';

      if (isDark) {
        html.removeAttribute('data-theme');
        icon.textContent = 'ğŸŒ™';
        localStorage.setItem('theme', 'light');
      } else {
        html.setAttribute('data-theme', 'dark');
        icon.textContent = 'â˜€ï¸';
        localStorage.setItem('theme', 'dark');
      }
    }

    (function() {
      const saved = localStorage.getItem('theme');
      if (saved === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        document.getElementById('themeIcon').textContent = 'â˜€ï¸';
      }
    })();
  </script>
</body>
</html>
